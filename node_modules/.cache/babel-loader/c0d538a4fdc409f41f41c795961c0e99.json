{"ast":null,"code":"import _toConsumableArray from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LEFT_PAGE=\"LEFT\";var RIGHT_PAGE=\"RIGHT\";var range=function range(from,to){var step=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var i=from;var range=[];while(i<=to){range.push(i);i+=step;}return range;};var Paging=/*#__PURE__*/function(_Component){_inherits(Paging,_Component);var _super=_createSuper(Paging);function Paging(props){var _this;_classCallCheck(this,Paging);_this=_super.call(this);_this.gotoPage=function(page){var _this$props$onPageCha=_this.props.onPageChanged,onPageChanged=_this$props$onPageCha===void 0?function(f){return f;}:_this$props$onPageCha;var currentPage=Math.max(0,Math.min(page,_this.totalPages));var paginationData={currentPage:currentPage,totalPages:_this.totalPages,pageLimit:_this.pageLimit,totalRecords:_this.totalRecords};_this.setState({currentPage:currentPage},function(){return onPageChanged(paginationData);});};_this.handleClick=function(page,evt){evt.preventDefault();_this.gotoPage(page);};_this.handleMoveLeft=function(evt){evt.preventDefault();_this.gotoPage(_this.state.currentPage-_this.pageNeighbours*2-1);};_this.handleMoveRight=function(evt){evt.preventDefault();_this.gotoPage(_this.state.currentPage+_this.pageNeighbours*2+1);};_this.fetchPageNumbers=function(){var totalPages=_this.totalPages;var currentPage=_this.state.currentPage;var pageNeighbours=_this.pageNeighbours;var totalNumbers=_this.pageNeighbours*2+3;var totalBlocks=totalNumbers+2;if(totalPages>totalBlocks){var pages=[];var leftBound=currentPage-pageNeighbours;var rightBound=currentPage+pageNeighbours;var beforeLastPage=totalPages-1;var startPage=leftBound>2?leftBound:2;var endPage=rightBound<beforeLastPage?rightBound:beforeLastPage;pages=range(startPage,endPage);var pagesCount=pages.length;var singleSpillOffset=totalNumbers-pagesCount-1;var leftSpill=startPage>2;var rightSpill=endPage<beforeLastPage;var leftSpillPage=LEFT_PAGE;var rightSpillPage=RIGHT_PAGE;if(leftSpill&&!rightSpill){var extraPages=range(startPage-singleSpillOffset,startPage-1);pages=[leftSpillPage].concat(_toConsumableArray(extraPages),_toConsumableArray(pages));}else if(!leftSpill&&rightSpill){var _extraPages=range(endPage+1,endPage+singleSpillOffset);pages=[].concat(_toConsumableArray(pages),_toConsumableArray(_extraPages),[rightSpillPage]);}else if(leftSpill&&rightSpill){pages=[leftSpillPage].concat(_toConsumableArray(pages),[rightSpillPage]);}return[1].concat(_toConsumableArray(pages),[totalPages]);}return range(1,totalPages);};var _props$totalRecords=props.totalRecords,totalRecords=_props$totalRecords===void 0?null:_props$totalRecords,_props$pageLimit=props.pageLimit,pageLimit=_props$pageLimit===void 0?30:_props$pageLimit,_props$pageNeighbours=props.pageNeighbours,_pageNeighbours=_props$pageNeighbours===void 0?0:_props$pageNeighbours,_props$sizing=props.sizing,sizing=_props$sizing===void 0?\"\":_props$sizing,_props$alignment=props.alignment,alignment=_props$alignment===void 0?\"\":_props$alignment;_this.sizing=typeof sizing===\"string\"?sizing:\"\";_this.alignment=typeof alignment===\"string\"?alignment:\"\";_this.pageLimit=typeof pageLimit===\"number\"?pageLimit:30;_this.totalRecords=typeof totalRecords===\"number\"?totalRecords:0;_this.pageNeighbours=typeof _pageNeighbours===\"number\"?Math.max(0,Math.min(_pageNeighbours,2)):0;_this.totalPages=Math.ceil(_this.totalRecords/_this.pageLimit);_this.state={currentPage:1};return _this;}_createClass(Paging,[{key:\"componentDidMount\",value:function componentDidMount(){this.gotoPage(1);}},{key:\"render\",value:function render(){var _this2=this;if(!this.totalRecords)return null;if(this.totalPages===1)return null;var currentPage=this.state.currentPage;var pages=this.fetchPageNumbers();return/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"pagination \".concat(this.sizing,\" \").concat(this.alignment),children:pages.map(function(page,index){if(page===LEFT_PAGE)return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"page-link\",\"aria-label\":\"Previous\",onClick:_this2.handleMoveLeft,children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xAB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Previous\"})]})},index);if(page===RIGHT_PAGE)return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"page-link\",href:\"#!\",\"aria-label\":\"Next\",onClick:_this2.handleMoveRight,children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xBB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Next\"})]})},index);return/*#__PURE__*/_jsx(\"li\",{className:\"page-item\".concat(currentPage===page?\" active\":\"\"),children:/*#__PURE__*/_jsx(\"a\",{className:\"page-link\",href:\"#!\",onClick:function onClick(e){return _this2.handleClick(page,e);},children:page})},index);})})});}}]);return Paging;}(Component);export default Paging;","map":{"version":3,"names":["Component","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","i","push","Paging","props","gotoPage","page","onPageChanged","f","currentPage","Math","max","min","totalPages","paginationData","pageLimit","totalRecords","setState","handleClick","evt","preventDefault","handleMoveLeft","state","pageNeighbours","handleMoveRight","fetchPageNumbers","totalNumbers","totalBlocks","pages","leftBound","rightBound","beforeLastPage","startPage","endPage","pagesCount","length","singleSpillOffset","leftSpill","rightSpill","leftSpillPage","rightSpillPage","extraPages","sizing","alignment","ceil","map","index","e"],"sources":["D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/src/components/Paging.jsx"],"sourcesContent":["import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nclass Paging extends Component {\n  constructor(props) {\n    super();\n    const {\n      totalRecords = null,\n      pageLimit = 30,\n      pageNeighbours = 0,\n      sizing = \"\",\n      alignment = \"\",\n    } = props;\n    this.sizing = typeof sizing === \"string\" ? sizing : \"\";\n    this.alignment = typeof alignment === \"string\" ? alignment : \"\";\n    this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n    this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n\n    this.pageNeighbours =\n      typeof pageNeighbours === \"number\"\n        ? Math.max(0, Math.min(pageNeighbours, 2))\n        : 0;\n\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n\n    this.state = { currentPage: 1 };\n  }\n\n  componentDidMount() {\n    this.gotoPage(1);\n  }\n\n  gotoPage = (page) => {\n    const { onPageChanged = (f) => f } = this.props;\n\n    const currentPage = Math.max(0, Math.min(page, this.totalPages));\n\n    const paginationData = {\n      currentPage,\n      totalPages: this.totalPages,\n      pageLimit: this.pageLimit,\n      totalRecords: this.totalRecords,\n    };\n\n    this.setState({ currentPage }, () => onPageChanged(paginationData));\n  };\n\n  handleClick = (page, evt) => {\n    evt.preventDefault();\n    this.gotoPage(page);\n  };\n\n  handleMoveLeft = (evt) => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage - this.pageNeighbours * 2 - 1);\n  };\n\n  handleMoveRight = (evt) => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage + this.pageNeighbours * 2 + 1);\n  };\n\n  fetchPageNumbers = () => {\n    const totalPages = this.totalPages;\n    const currentPage = this.state.currentPage;\n    const pageNeighbours = this.pageNeighbours;\n\n    const totalNumbers = this.pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      let pages = [];\n\n      const leftBound = currentPage - pageNeighbours;\n      const rightBound = currentPage + pageNeighbours;\n      const beforeLastPage = totalPages - 1;\n\n      const startPage = leftBound > 2 ? leftBound : 2;\n      const endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\n\n      pages = range(startPage, endPage);\n\n      const pagesCount = pages.length;\n      const singleSpillOffset = totalNumbers - pagesCount - 1;\n\n      const leftSpill = startPage > 2;\n      const rightSpill = endPage < beforeLastPage;\n\n      const leftSpillPage = LEFT_PAGE;\n      const rightSpillPage = RIGHT_PAGE;\n\n      if (leftSpill && !rightSpill) {\n        const extraPages = range(startPage - singleSpillOffset, startPage - 1);\n        pages = [leftSpillPage, ...extraPages, ...pages];\n      } else if (!leftSpill && rightSpill) {\n        const extraPages = range(endPage + 1, endPage + singleSpillOffset);\n        pages = [...pages, ...extraPages, rightSpillPage];\n      } else if (leftSpill && rightSpill) {\n        pages = [leftSpillPage, ...pages, rightSpillPage];\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  };\n\n  render() {\n    if (!this.totalRecords) return null;\n\n    if (this.totalPages === 1) return null;\n\n    const { currentPage } = this.state;\n    const pages = this.fetchPageNumbers();\n\n    return (\n      <nav aria-label=\"Page navigation\">\n        <ul className={`pagination ${this.sizing} ${this.alignment}`}>\n          {pages.map((page, index) => {\n            if (page === LEFT_PAGE)\n              return (\n                <li key={index} className=\"page-item\">\n                  <button\n                    className=\"page-link\"\n                    aria-label=\"Previous\"\n                    onClick={this.handleMoveLeft}\n                  >\n                    <span aria-hidden=\"true\">&laquo;</span>\n                    <span className=\"sr-only\">Previous</span>\n                  </button>\n                </li>\n              );\n\n            if (page === RIGHT_PAGE)\n              return (\n                <li key={index} className=\"page-item\">\n                  <a\n                    className=\"page-link\"\n                    href=\"#!\"\n                    aria-label=\"Next\"\n                    onClick={this.handleMoveRight}\n                  >\n                    <span aria-hidden=\"true\">&raquo;</span>\n                    <span className=\"sr-only\">Next</span>\n                  </a>\n                </li>\n              );\n\n            return (\n              <li\n                key={index}\n                className={`page-item${currentPage === page ? \" active\" : \"\"}`}\n              >\n                <a\n                  className=\"page-link\"\n                  href=\"#!\"\n                  onClick={(e) => this.handleClick(page, e)}\n                >\n                  {page}\n                </a>\n              </li>\n            );\n          })}\n        </ul>\n      </nav>\n    );\n  }\n}\n\nPaging.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func,\n  sizing: PropTypes.string,\n};\n\nexport default Paging;\n"],"mappings":"ipBAAA,OAASA,SAAT,KAA0B,OAA1B,C,wFAGA,GAAMC,UAAS,CAAG,MAAlB,CACA,GAAMC,WAAU,CAAG,OAAnB,CAEA,GAAMC,MAAK,CAAG,eAACC,IAAD,CAAOC,EAAP,CAAwB,IAAbC,KAAa,2DAAN,CAAM,CACpC,GAAIC,EAAC,CAAGH,IAAR,CACA,GAAMD,MAAK,CAAG,EAAd,CAEA,MAAOI,CAAC,EAAIF,EAAZ,CAAgB,CACdF,KAAK,CAACK,IAAN,CAAWD,CAAX,EACAA,CAAC,EAAID,IAAL,CACD,CAED,MAAOH,MAAP,CACD,CAVD,C,GAYMM,O,gGACJ,gBAAYC,KAAZ,CAAmB,wCACjB,wBADiB,MA4BnBC,QA5BmB,CA4BR,SAACC,IAAD,CAAU,CACnB,0BAAqC,MAAKF,KAA1C,CAAQG,aAAR,CAAQA,aAAR,gCAAwB,SAACC,CAAD,QAAOA,EAAP,EAAxB,uBAEA,GAAMC,YAAW,CAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,CAAYD,IAAI,CAACE,GAAL,CAASN,IAAT,CAAe,MAAKO,UAApB,CAAZ,CAApB,CAEA,GAAMC,eAAc,CAAG,CACrBL,WAAW,CAAXA,WADqB,CAErBI,UAAU,CAAE,MAAKA,UAFI,CAGrBE,SAAS,CAAE,MAAKA,SAHK,CAIrBC,YAAY,CAAE,MAAKA,YAJE,CAAvB,CAOA,MAAKC,QAAL,CAAc,CAAER,WAAW,CAAXA,WAAF,CAAd,CAA+B,iBAAMF,cAAa,CAACO,cAAD,CAAnB,EAA/B,EACD,CAzCkB,OA2CnBI,WA3CmB,CA2CL,SAACZ,IAAD,CAAOa,GAAP,CAAe,CAC3BA,GAAG,CAACC,cAAJ,GACA,MAAKf,QAAL,CAAcC,IAAd,EACD,CA9CkB,OAgDnBe,cAhDmB,CAgDF,SAACF,GAAD,CAAS,CACxBA,GAAG,CAACC,cAAJ,GACA,MAAKf,QAAL,CAAc,MAAKiB,KAAL,CAAWb,WAAX,CAAyB,MAAKc,cAAL,CAAsB,CAA/C,CAAmD,CAAjE,EACD,CAnDkB,OAqDnBC,eArDmB,CAqDD,SAACL,GAAD,CAAS,CACzBA,GAAG,CAACC,cAAJ,GACA,MAAKf,QAAL,CAAc,MAAKiB,KAAL,CAAWb,WAAX,CAAyB,MAAKc,cAAL,CAAsB,CAA/C,CAAmD,CAAjE,EACD,CAxDkB,OA0DnBE,gBA1DmB,CA0DA,UAAM,CACvB,GAAMZ,WAAU,CAAG,MAAKA,UAAxB,CACA,GAAMJ,YAAW,CAAG,MAAKa,KAAL,CAAWb,WAA/B,CACA,GAAMc,eAAc,CAAG,MAAKA,cAA5B,CAEA,GAAMG,aAAY,CAAG,MAAKH,cAAL,CAAsB,CAAtB,CAA0B,CAA/C,CACA,GAAMI,YAAW,CAAGD,YAAY,CAAG,CAAnC,CAEA,GAAIb,UAAU,CAAGc,WAAjB,CAA8B,CAC5B,GAAIC,MAAK,CAAG,EAAZ,CAEA,GAAMC,UAAS,CAAGpB,WAAW,CAAGc,cAAhC,CACA,GAAMO,WAAU,CAAGrB,WAAW,CAAGc,cAAjC,CACA,GAAMQ,eAAc,CAAGlB,UAAU,CAAG,CAApC,CAEA,GAAMmB,UAAS,CAAGH,SAAS,CAAG,CAAZ,CAAgBA,SAAhB,CAA4B,CAA9C,CACA,GAAMI,QAAO,CAAGH,UAAU,CAAGC,cAAb,CAA8BD,UAA9B,CAA2CC,cAA3D,CAEAH,KAAK,CAAG/B,KAAK,CAACmC,SAAD,CAAYC,OAAZ,CAAb,CAEA,GAAMC,WAAU,CAAGN,KAAK,CAACO,MAAzB,CACA,GAAMC,kBAAiB,CAAGV,YAAY,CAAGQ,UAAf,CAA4B,CAAtD,CAEA,GAAMG,UAAS,CAAGL,SAAS,CAAG,CAA9B,CACA,GAAMM,WAAU,CAAGL,OAAO,CAAGF,cAA7B,CAEA,GAAMQ,cAAa,CAAG5C,SAAtB,CACA,GAAM6C,eAAc,CAAG5C,UAAvB,CAEA,GAAIyC,SAAS,EAAI,CAACC,UAAlB,CAA8B,CAC5B,GAAMG,WAAU,CAAG5C,KAAK,CAACmC,SAAS,CAAGI,iBAAb,CAAgCJ,SAAS,CAAG,CAA5C,CAAxB,CACAJ,KAAK,EAAIW,aAAJ,4BAAsBE,UAAtB,qBAAqCb,KAArC,EAAL,CACD,CAHD,IAGO,IAAI,CAACS,SAAD,EAAcC,UAAlB,CAA8B,CACnC,GAAMG,YAAU,CAAG5C,KAAK,CAACoC,OAAO,CAAG,CAAX,CAAcA,OAAO,CAAGG,iBAAxB,CAAxB,CACAR,KAAK,8BAAOA,KAAP,qBAAiBa,WAAjB,GAA6BD,cAA7B,EAAL,CACD,CAHM,IAGA,IAAIH,SAAS,EAAIC,UAAjB,CAA6B,CAClCV,KAAK,EAAIW,aAAJ,4BAAsBX,KAAtB,GAA6BY,cAA7B,EAAL,CACD,CAED,OAAQ,CAAR,4BAAcZ,KAAd,GAAqBf,UAArB,GACD,CAED,MAAOhB,MAAK,CAAC,CAAD,CAAIgB,UAAJ,CAAZ,CACD,CArGkB,CAEjB,wBAMIT,KANJ,CACEY,YADF,CACEA,YADF,8BACiB,IADjB,sCAMIZ,KANJ,CAEEW,SAFF,CAEEA,SAFF,2BAEc,EAFd,wCAMIX,KANJ,CAGEmB,cAHF,CAGEA,eAHF,gCAGmB,CAHnB,qCAMInB,KANJ,CAIEsC,MAJF,CAIEA,MAJF,wBAIW,EAJX,gCAMItC,KANJ,CAKEuC,SALF,CAKEA,SALF,2BAKc,EALd,kBAOA,MAAKD,MAAL,CAAc,MAAOA,OAAP,GAAkB,QAAlB,CAA6BA,MAA7B,CAAsC,EAApD,CACA,MAAKC,SAAL,CAAiB,MAAOA,UAAP,GAAqB,QAArB,CAAgCA,SAAhC,CAA4C,EAA7D,CACA,MAAK5B,SAAL,CAAiB,MAAOA,UAAP,GAAqB,QAArB,CAAgCA,SAAhC,CAA4C,EAA7D,CACA,MAAKC,YAAL,CAAoB,MAAOA,aAAP,GAAwB,QAAxB,CAAmCA,YAAnC,CAAkD,CAAtE,CAEA,MAAKO,cAAL,CACE,MAAOA,gBAAP,GAA0B,QAA1B,CACIb,IAAI,CAACC,GAAL,CAAS,CAAT,CAAYD,IAAI,CAACE,GAAL,CAASW,eAAT,CAAyB,CAAzB,CAAZ,CADJ,CAEI,CAHN,CAKA,MAAKV,UAAL,CAAkBH,IAAI,CAACkC,IAAL,CAAU,MAAK5B,YAAL,CAAoB,MAAKD,SAAnC,CAAlB,CAEA,MAAKO,KAAL,CAAa,CAAEb,WAAW,CAAE,CAAf,CAAb,CArBiB,aAsBlB,C,oDAED,4BAAoB,CAClB,KAAKJ,QAAL,CAAc,CAAd,EACD,C,sBA6ED,iBAAS,iBACP,GAAI,CAAC,KAAKW,YAAV,CAAwB,MAAO,KAAP,CAExB,GAAI,KAAKH,UAAL,GAAoB,CAAxB,CAA2B,MAAO,KAAP,CAE3B,GAAQJ,YAAR,CAAwB,KAAKa,KAA7B,CAAQb,WAAR,CACA,GAAMmB,MAAK,CAAG,KAAKH,gBAAL,EAAd,CAEA,mBACE,YAAK,aAAW,iBAAhB,uBACE,WAAI,SAAS,sBAAgB,KAAKiB,MAArB,aAA+B,KAAKC,SAApC,CAAb,UACGf,KAAK,CAACiB,GAAN,CAAU,SAACvC,IAAD,CAAOwC,KAAP,CAAiB,CAC1B,GAAIxC,IAAI,GAAKX,SAAb,CACE,mBACE,WAAgB,SAAS,CAAC,WAA1B,uBACE,gBACE,SAAS,CAAC,WADZ,CAEE,aAAW,UAFb,CAGE,OAAO,CAAE,MAAI,CAAC0B,cAHhB,wBAKE,aAAM,cAAY,MAAlB,kBALF,cAME,aAAM,SAAS,CAAC,SAAhB,sBANF,GADF,EAASyB,KAAT,CADF,CAaF,GAAIxC,IAAI,GAAKV,UAAb,CACE,mBACE,WAAgB,SAAS,CAAC,WAA1B,uBACE,WACE,SAAS,CAAC,WADZ,CAEE,IAAI,CAAC,IAFP,CAGE,aAAW,MAHb,CAIE,OAAO,CAAE,MAAI,CAAC4B,eAJhB,wBAME,aAAM,cAAY,MAAlB,kBANF,cAOE,aAAM,SAAS,CAAC,SAAhB,kBAPF,GADF,EAASsB,KAAT,CADF,CAcF,mBACE,WAEE,SAAS,oBAAcrC,WAAW,GAAKH,IAAhB,CAAuB,SAAvB,CAAmC,EAAjD,CAFX,uBAIE,UACE,SAAS,CAAC,WADZ,CAEE,IAAI,CAAC,IAFP,CAGE,OAAO,CAAE,iBAACyC,CAAD,QAAO,OAAI,CAAC7B,WAAL,CAAiBZ,IAAjB,CAAuByC,CAAvB,CAAP,EAHX,UAKGzC,IALH,EAJF,EACOwC,KADP,CADF,CAcD,CA5CA,CADH,EADF,EADF,CAmDD,C,oBAnKkBpD,S,EA8KrB,cAAeS,OAAf"},"metadata":{},"sourceType":"module"}