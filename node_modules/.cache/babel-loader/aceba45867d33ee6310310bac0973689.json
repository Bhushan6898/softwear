{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport UserRepository from \"../repository/userRepository\";\nimport { useNavigate } from \"react-router-dom\";\nimport { logOut, login } from \"../store/auth/reduser.slice\";\nimport { useDispatch } from \"react-redux\";\n\nconst useAdmin = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const route = useNavigate();\n  const dispatch = useDispatch();\n  const [userData, setUserData] = useState();\n  return {\n    userData,\n    AddClientDetails: async payload => {\n      try {\n        const response = await UserRepository.AddClients(payload);\n\n        if (response.status === 200) {\n          var _response$data;\n\n          toast.success((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message);\n          setLoading(true);\n          return response;\n        }\n\n        if (response.response.status === 401) {\n          var _response$response$da;\n\n          toast.warn((_response$response$da = response.response.data) === null || _response$response$da === void 0 ? void 0 : _response$response$da.message);\n          console.log(response.data);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    Login: async payload => {\n      try {\n        const response = await UserRepository.Loginhere(payload);\n\n        if (response.status === 200) {\n          var _response$data2;\n\n          const role = response.data.user.role;\n          const id = response.data.user._id;\n          dispatch(login(role, id));\n          toast.success((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message);\n          setLoading(true);\n          route(\"/home\");\n          return response;\n        }\n\n        if (response.response.status === 401) {\n          var _response$response$da2;\n\n          toast.warn((_response$response$da2 = response.response.data) === null || _response$response$da2 === void 0 ? void 0 : _response$response$da2.message);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    ProfileDetails: async () => {\n      try {\n        const response = await UserRepository.getProfile();\n        console.log(response);\n\n        if (response.status === 200) {\n          var _response$data3;\n\n          setUserData((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.user);\n          setLoading(true);\n          return response;\n        }\n\n        if (response.response.status === 401) {\n          var _response$response$da3;\n\n          toast.warn((_response$response$da3 = response.response.data) === null || _response$response$da3 === void 0 ? void 0 : _response$response$da3.message);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    AddProduct: async payload => {\n      try {\n        const response = await UserRepository.postPRODUCT(payload);\n        console.log(response);\n\n        if (response.status === 200) {\n          var _response$data4;\n\n          toast.success((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.message);\n          setLoading(true);\n          return response;\n        }\n\n        if (response.response.status === 401) {\n          var _response$response$da4;\n\n          toast.warn((_response$response$da4 = response.response.data) === null || _response$response$da4 === void 0 ? void 0 : _response$response$da4.message);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n};\n\n_s(useAdmin, \"j+XjsZH+bEZER4eCoZpwig1tAu4=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n\nexport default useAdmin;","map":{"version":3,"names":["useState","toast","UserRepository","useNavigate","logOut","login","useDispatch","useAdmin","loading","setLoading","route","dispatch","userData","setUserData","AddClientDetails","payload","response","AddClients","status","success","data","message","warn","console","log","error","Login","Loginhere","role","user","id","_id","ProfileDetails","getProfile","AddProduct","postPRODUCT"],"sources":["D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/src/hooks/useUser.js"],"sourcesContent":["import { useState } from \"react\";\r\n import { toast } from \"react-toastify\";\r\nimport UserRepository from \"../repository/userRepository\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { logOut, login} from \"../store/auth/reduser.slice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useAdmin = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const route = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [userData,setUserData]=useState();\r\n  return {\r\n    userData,\r\n\r\n    AddClientDetails: async (payload) => {\r\n      try {\r\n        const response = await UserRepository.AddClients(payload);\r\n        if (response.status === 200) {\r\n          toast.success(response.data?.message);\r\n          setLoading(true);\r\n         \r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          console.log(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    Login: async (payload) => {\r\n      try {\r\n        const response = await UserRepository.Loginhere(payload);\r\n        if (response.status === 200) {\r\n          const role=response.data.user.role;\r\n          const id=response.data.user._id;\r\n          dispatch(login(role,id))\r\n          toast.success(response.data?.message);\r\n\r\n\r\n          setLoading(true);\r\n           route(\"/home\")\r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    ProfileDetails: async () => {\r\n      try {\r\n        const response = await UserRepository.getProfile();\r\n        console.log(response);\r\n        \r\n        if (response.status === 200) {\r\n          setUserData(response.data?.user)\r\n          setLoading(true);\r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    AddProduct: async (payload) => {\r\n      try {\r\n        const response = await UserRepository.postPRODUCT(payload);\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          toast.success(response.data?.message);\r\n\r\n          setLoading(true);\r\n        \r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n  };\r\n};\r\n\r\nexport default useAdmin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}