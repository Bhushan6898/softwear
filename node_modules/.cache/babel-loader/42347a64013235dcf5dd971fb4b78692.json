{"ast":null,"code":"import _regeneratorRuntime from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{toast}from\"react-toastify\";import UserRepository from\"../repository/userRepository\";import{useNavigate}from\"react-router-dom\";import{logOut,login}from\"../store/auth/reduser.slice\";import{useDispatch}from\"react-redux\";var useAdmin=function useAdmin(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var route=useNavigate();var dispatch=useDispatch();var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),productData=_useState6[0],setProductData=_useState6[1];return{userData:userData,productData:productData,AddClientDetails:function(){var _AddClientDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){var response,_response$data,_response$response$da;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return UserRepository.AddClients(payload);case 3:response=_context.sent;if(!(response.status===200)){_context.next=8;break;}toast.success((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message);setLoading(true);return _context.abrupt(\"return\",response);case 8:if(response.response.status===401){toast.warn((_response$response$da=response.response.data)===null||_response$response$da===void 0?void 0:_response$response$da.message);console.log(response.data);}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));function AddClientDetails(_x){return _AddClientDetails.apply(this,arguments);}return AddClientDetails;}(),Login:function(){var _Login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload){var response,_response$data2,role,id,_response$response$da2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return UserRepository.Loginhere(payload);case 3:response=_context2.sent;if(!(response.status===200)){_context2.next=12;break;}role=response.data.user.role;id=response.data.user._id;dispatch(login(role,id));toast.success((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.message);setLoading(true);route(\"/home\");return _context2.abrupt(\"return\",response);case 12:if(response.response.status===401){toast.warn((_response$response$da2=response.response.data)===null||_response$response$da2===void 0?void 0:_response$response$da2.message);}_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[0,15]]);}));function Login(_x2){return _Login.apply(this,arguments);}return Login;}(),ProfileDetails:function(){var _ProfileDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,_response$data3,_response$response$da3;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return UserRepository.getProfile();case 3:response=_context3.sent;console.log(response);if(!(response.status===200)){_context3.next=9;break;}setUserData((_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.user);setLoading(true);return _context3.abrupt(\"return\",response);case 9:if(response.response.status===401){toast.warn((_response$response$da3=response.response.data)===null||_response$response$da3===void 0?void 0:_response$response$da3.message);}_context3.next=15;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));function ProfileDetails(){return _ProfileDetails.apply(this,arguments);}return ProfileDetails;}(),AddProduct:function(){var _AddProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(payload){var response,_response$data4,_response$response$da4;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return UserRepository.postPRODUCT(payload);case 3:response=_context4.sent;console.log(response);if(!(response.status===200)){_context4.next=9;break;}toast.success((_response$data4=response.data)===null||_response$data4===void 0?void 0:_response$data4.message);setLoading(true);return _context4.abrupt(\"return\",response);case 9:if(response.response.status===401){toast.warn((_response$response$da4=response.response.data)===null||_response$response$da4===void 0?void 0:_response$response$da4.message);}_context4.next=15;break;case 12:_context4.prev=12;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,12]]);}));function AddProduct(_x3){return _AddProduct.apply(this,arguments);}return AddProduct;}(),Product:function(){var _Product=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response,_response$data5,_response$response$da5;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return UserRepository.getProduct();case 3:response=_context5.sent;console.log(response);if(!(response.status===200)){_context5.next=9;break;}setProductData((_response$data5=response.data)===null||_response$data5===void 0?void 0:_response$data5.product);setLoading(true);return _context5.abrupt(\"return\",response);case 9:if(response.response.status===401){toast.warn((_response$response$da5=response.response.data)===null||_response$response$da5===void 0?void 0:_response$response$da5.message);}_context5.next=15;break;case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,12]]);}));function Product(){return _Product.apply(this,arguments);}return Product;}()};};export default useAdmin;","map":{"version":3,"names":["useState","toast","UserRepository","useNavigate","logOut","login","useDispatch","useAdmin","loading","setLoading","route","dispatch","userData","setUserData","productData","setProductData","AddClientDetails","payload","AddClients","response","status","success","data","message","warn","console","log","Login","Loginhere","role","user","id","_id","ProfileDetails","getProfile","AddProduct","postPRODUCT","Product","getProduct","product"],"sources":["D:/mahaluxmi_hardwere_softwere/Mahaluxmi_client/src/hooks/useUser.js"],"sourcesContent":["import { useState } from \"react\";\r\n import { toast } from \"react-toastify\";\r\nimport UserRepository from \"../repository/userRepository\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { logOut, login} from \"../store/auth/reduser.slice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useAdmin = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const route = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [userData,setUserData]=useState();\r\n  const [productData,setProductData]=useState();\r\n  return {\r\n    userData,\r\n    productData,\r\n    AddClientDetails: async (payload) => {\r\n      try {\r\n        const response = await UserRepository.AddClients(payload);\r\n        if (response.status === 200) {\r\n          toast.success(response.data?.message);\r\n          setLoading(true);\r\n         \r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          console.log(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    Login: async (payload) => {\r\n      try {\r\n        const response = await UserRepository.Loginhere(payload);\r\n        if (response.status === 200) {\r\n          const role=response.data.user.role;\r\n          const id=response.data.user._id;\r\n          dispatch(login(role,id))\r\n          toast.success(response.data?.message);\r\n\r\n\r\n          setLoading(true);\r\n           route(\"/home\")\r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    ProfileDetails: async () => {\r\n      try {\r\n        const response = await UserRepository.getProfile();\r\n        console.log(response);\r\n        \r\n        if (response.status === 200) {\r\n          setUserData(response.data?.user)\r\n          setLoading(true);\r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    AddProduct: async (payload) => {\r\n      try {\r\n        const response = await UserRepository.postPRODUCT(payload);\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          toast.success(response.data?.message);\r\n\r\n          setLoading(true);\r\n        \r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    Product: async () => {\r\n      try {\r\n        const response = await UserRepository.getProduct();\r\n        console.log(response);\r\n        \r\n        if (response.status === 200) {\r\n          setProductData(response.data?.product)\r\n          setLoading(true);\r\n          return response;\r\n        } if(response.response.status === 401){\r\n          toast.warn(response.response.data?.message);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n  };\r\n};\r\n\r\nexport default useAdmin;\r\n"],"mappings":"+ZAAA,OAASA,QAAT,KAAyB,OAAzB,CACC,OAASC,KAAT,KAAsB,gBAAtB,CACD,MAAOC,eAAP,KAA2B,8BAA3B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA6B,6BAA7B,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,cAA8BP,QAAQ,CAAC,KAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,GAAMC,MAAK,CAAGP,WAAW,EAAzB,CACA,GAAMQ,SAAQ,CAAGL,WAAW,EAA5B,CACA,eAA6BN,QAAQ,EAArC,yCAAOY,QAAP,eAAgBC,WAAhB,eACA,eAAmCb,QAAQ,EAA3C,yCAAOc,WAAP,eAAmBC,cAAnB,eACA,MAAO,CACLH,QAAQ,CAARA,QADK,CAELE,WAAW,CAAXA,WAFK,CAGLE,gBAAgB,4FAAE,iBAAOC,OAAP,4MAESf,eAAc,CAACgB,UAAf,CAA0BD,OAA1B,CAFT,QAERE,QAFQ,oBAGVA,QAAQ,CAACC,MAAT,GAAoB,GAHV,0BAIZnB,KAAK,CAACoB,OAAN,iBAAcF,QAAQ,CAACG,IAAvB,yCAAc,eAAeC,OAA7B,EACAd,UAAU,CAAC,IAAD,CAAV,CALY,gCAOLU,QAPK,SAQZ,GAAGA,QAAQ,CAACA,QAAT,CAAkBC,MAAlB,GAA6B,GAAhC,CAAoC,CACpCnB,KAAK,CAACuB,IAAN,wBAAWL,QAAQ,CAACA,QAAT,CAAkBG,IAA7B,gDAAW,sBAAwBC,OAAnC,EACAE,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACG,IAArB,EACD,CAXa,iFAadG,OAAO,CAACC,GAAR,cAbc,qEAAF,4GAHX,CAmBLC,KAAK,iFAAE,kBAAOV,OAAP,4NAEoBf,eAAc,CAAC0B,SAAf,CAAyBX,OAAzB,CAFpB,QAEGE,QAFH,qBAGCA,QAAQ,CAACC,MAAT,GAAoB,GAHrB,4BAIKS,IAJL,CAIUV,QAAQ,CAACG,IAAT,CAAcQ,IAAd,CAAmBD,IAJ7B,CAKKE,EALL,CAKQZ,QAAQ,CAACG,IAAT,CAAcQ,IAAd,CAAmBE,GAL3B,CAMDrB,QAAQ,CAACN,KAAK,CAACwB,IAAD,CAAME,EAAN,CAAN,CAAR,CACA9B,KAAK,CAACoB,OAAN,kBAAcF,QAAQ,CAACG,IAAvB,0CAAc,gBAAeC,OAA7B,EAGAd,UAAU,CAAC,IAAD,CAAV,CACCC,KAAK,CAAC,OAAD,CAAL,CAXA,iCAYMS,QAZN,UAaD,GAAGA,QAAQ,CAACA,QAAT,CAAkBC,MAAlB,GAA6B,GAAhC,CAAoC,CACpCnB,KAAK,CAACuB,IAAN,yBAAWL,QAAQ,CAACA,QAAT,CAAkBG,IAA7B,iDAAW,uBAAwBC,OAAnC,EAED,CAhBE,qFAkBHE,OAAO,CAACC,GAAR,eAlBG,uEAAF,4EAnBA,CAwCLO,cAAc,0FAAE,sOAEW/B,eAAc,CAACgC,UAAf,EAFX,QAENf,QAFM,gBAGZM,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAHY,KAKRA,QAAQ,CAACC,MAAT,GAAoB,GALZ,2BAMVP,WAAW,kBAACM,QAAQ,CAACG,IAAV,0CAAC,gBAAeQ,IAAhB,CAAX,CACArB,UAAU,CAAC,IAAD,CAAV,CAPU,iCAQHU,QARG,SASV,GAAGA,QAAQ,CAACA,QAAT,CAAkBC,MAAlB,GAA6B,GAAhC,CAAoC,CACpCnB,KAAK,CAACuB,IAAN,yBAAWL,QAAQ,CAACA,QAAT,CAAkBG,IAA7B,iDAAW,uBAAwBC,OAAnC,EAED,CAZW,qFAcZE,OAAO,CAACC,GAAR,eAdY,uEAAF,oGAxCT,CAyDLS,UAAU,sFAAE,kBAAOlB,OAAP,oNAEef,eAAc,CAACkC,WAAf,CAA2BnB,OAA3B,CAFf,QAEFE,QAFE,gBAGRM,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAHQ,KAIJA,QAAQ,CAACC,MAAT,GAAoB,GAJhB,2BAKNnB,KAAK,CAACoB,OAAN,kBAAcF,QAAQ,CAACG,IAAvB,0CAAc,gBAAeC,OAA7B,EAEAd,UAAU,CAAC,IAAD,CAAV,CAPM,iCASCU,QATD,SAUN,GAAGA,QAAQ,CAACA,QAAT,CAAkBC,MAAlB,GAA6B,GAAhC,CAAoC,CACpCnB,KAAK,CAACuB,IAAN,yBAAWL,QAAQ,CAACA,QAAT,CAAkBG,IAA7B,iDAAW,uBAAwBC,OAAnC,EAED,CAbO,qFAeRE,OAAO,CAACC,GAAR,eAfQ,uEAAF,2FAzDL,CA2ELW,OAAO,mFAAE,sOAEkBnC,eAAc,CAACoC,UAAf,EAFlB,QAECnB,QAFD,gBAGLM,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAHK,KAKDA,QAAQ,CAACC,MAAT,GAAoB,GALnB,2BAMHL,cAAc,kBAACI,QAAQ,CAACG,IAAV,0CAAC,gBAAeiB,OAAhB,CAAd,CACA9B,UAAU,CAAC,IAAD,CAAV,CAPG,iCAQIU,QARJ,SASH,GAAGA,QAAQ,CAACA,QAAT,CAAkBC,MAAlB,GAA6B,GAAhC,CAAoC,CACpCnB,KAAK,CAACuB,IAAN,yBAAWL,QAAQ,CAACA,QAAT,CAAkBG,IAA7B,iDAAW,uBAAwBC,OAAnC,EAED,CAZI,qFAcLE,OAAO,CAACC,GAAR,eAdK,uEAAF,+EA3EF,CAAP,CA8FD,CApGD,CAsGA,cAAenB,SAAf"},"metadata":{},"sourceType":"module"}